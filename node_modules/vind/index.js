var http = require('http');
var https = require('https');

function get(protocol, url) {
  if(protocol === 'http') {
    http.get({hostname:url, port:80, path:'/'}, function(res) {
      console.log('STATUS: ' + res.statusCode);
      console.log('HEADERS: ' + JSON.stringify(res.headers));
      res.setEncoding('utf8');
      res.on('data', function (chunk) {
        console.log(chunk);
      });  
    });
  } else {
    https.get({hostname:url, port:443, path:'/'}, function(res) {
      console.log('STATUS: ' + res.statusCode);
      console.log('HEADERS: ' + JSON.stringify(res.headers));
      res.setEncoding('utf8');
      res.on('data', function (chunk) {
        console.log(chunk);
      });
    });
  }
}

module.exports = get;
