var request = require('request');

function Bot(key, mode, url) {
  this.key = key || 'default';
  this.mode = mode || 'training';
  this.url = url || 'http://vindinium.org';
}

Bot.prototype.start = function() {
  request.post({url: this.url + '/api/' + this.mode, form: {key: this.key}}, function(err, res, body) {
    // run the initial POST req
  });
  return this; // for chaining the methods
};

Bot.prototype.move = function(dir) {
  request.post({ url: this.url + '/api/' + this.mode, form: {key: this.key, dir: dir}}, function(err, res, body) {
    // run the subsequent POST reqs
  });
};

module.exports = Bot;
